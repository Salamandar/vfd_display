EESchema Schematic File Version 4
LIBS:vfd_display-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Label 5350 2000 0    50   ~ 0
Filament_PWR
Wire Wire Line
	5950 2900 6050 2900
Wire Wire Line
	6050 2900 6050 3300
Wire Wire Line
	5950 3300 6050 3300
$Comp
L Device:R_Small R2
U 1 1 5BF8361D
P 6050 3400
F 0 "R2" H 6109 3446 50  0000 L CNN
F 1 "R_sense 500mW" H 6109 3355 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder" H 6050 3400 50  0001 C CNN
F 3 "~" H 6050 3400 50  0001 C CNN
	1    6050 3400
	1    0    0    -1  
$EndComp
Connection ~ 6050 3300
NoConn ~ 4750 2900
NoConn ~ 4750 3000
$Comp
L Device:C C3
U 1 1 5BF83A17
P 6100 2500
F 0 "C3" V 6050 2600 50  0000 C CNN
F 1 "2.2u" V 6150 2650 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.15x1.40mm_HandSolder" H 6138 2350 50  0001 C CNN
F 3 "https://fr.rs-online.com/web/p/condensateurs-ceramique-multicouche/1464271/" H 6100 2500 50  0001 C CNN
	1    6100 2500
	0    1    1    0   
$EndComp
$Comp
L Device:C C2
U 1 1 5BF83BB3
P 5200 2200
F 0 "C2" V 5250 2050 50  0000 L CNN
F 1 "100n" V 5250 2250 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.15x1.40mm_HandSolder" H 5238 2050 50  0001 C CNN
F 3 "~" H 5200 2200 50  0001 C CNN
	1    5200 2200
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C1
U 1 1 5BF83C24
P 5200 2000
F 0 "C1" V 5250 1850 50  0000 L CNN
F 1 "10u" V 5250 2050 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric_Pad1.42x1.75mm_HandSolder" H 5238 1850 50  0001 C CNN
F 3 "https://fr.rs-online.com/web/p/condensateurs-ceramique-multicouche/6530620/" H 5200 2000 50  0001 C CNN
	1    5200 2000
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5350 2300 5350 2200
Connection ~ 5350 2200
Wire Wire Line
	5350 2200 5350 2000
Wire Wire Line
	5050 2000 5050 2200
$Comp
L Device:R R1
U 1 1 5BF84EB9
P 4500 2450
F 0 "R1" H 4450 2400 50  0000 R CNN
F 1 "10k" V 4500 2550 50  0000 R CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 4430 2450 50  0001 C CNN
F 3 "~" H 4500 2450 50  0001 C CNN
	1    4500 2450
	-1   0    0    1   
$EndComp
Wire Wire Line
	4500 2600 4750 2600
Wire Wire Line
	4500 2600 4350 2600
Connection ~ 4500 2600
$Sheet
S 8900 1200 900  1000
U 5C046833
F0 "VFD" 50
F1 "VFD.sch" 50
F2 "SPI_Grids_Anodes" I L 8900 1500 50 
F3 "RCLK" I L 8900 1700 50 
F4 "SRCLK" I L 8900 1600 50 
F5 "Power_Grids_Anodes" I L 8900 1300 50 
F6 "Filament_In_B" I L 8900 2100 50 
F7 "Filament_In_A" I L 8900 2000 50 
$EndSheet
Connection ~ 5950 2500
$Comp
L Driver_Motor:DRV8848 U18
U 1 1 5BF82047
P 5350 2900
F 0 "U18" H 4900 3450 50  0000 C CNN
F 1 "DRV8848" H 5700 3450 50  0000 C CNN
F 2 "Package_SO:TSSOP-16-1EP_4.4x5mm_P0.65mm" H 5350 2200 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/drv8848.pdf" H 4200 4250 50  0001 C CNN
	1    5350 2900
	1    0    0    -1  
$EndComp
$Sheet
S 2200 1200 1200 1750
U 5C025ADD
F0 "Logic" 50
F1 "Logic.sch" 50
F2 "Filament_PWM2" I R 3400 2100 50 
F3 "Filament_Enable" I R 3400 1900 50 
F4 "Filament_PWM1" I R 3400 2000 50 
F5 "Filament_Current_ADC" I R 3400 2200 50 
F6 "Grids_Anodes_SPI_RCLK" I R 3400 1700 50 
F7 "Grids_Anodes_SPI_MOSI" I R 3400 1500 50 
F8 "Grids_Anodes_SPI_SRCLK" I R 3400 1600 50 
$EndSheet
Wire Wire Line
	4750 2500 4750 2400
Wire Wire Line
	4750 2400 5950 2400
Wire Wire Line
	5950 2400 5950 2500
$Comp
L power:GND #PWR0129
U 1 1 5DD92A22
P 5050 2200
F 0 "#PWR0129" H 5050 1950 50  0001 C CNN
F 1 "GND" H 5050 2050 50  0000 C CNN
F 2 "" H 5050 2200 50  0001 C CNN
F 3 "" H 5050 2200 50  0001 C CNN
	1    5050 2200
	1    0    0    -1  
$EndComp
Connection ~ 5050 2200
$Comp
L power:GND #PWR0130
U 1 1 5DD92B58
P 6250 2500
F 0 "#PWR0130" H 6250 2250 50  0001 C CNN
F 1 "GND" V 6250 2400 50  0000 R CNN
F 2 "" H 6250 2500 50  0001 C CNN
F 3 "" H 6250 2500 50  0001 C CNN
	1    6250 2500
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR0131
U 1 1 5DD92CB8
P 6050 3500
F 0 "#PWR0131" H 6050 3250 50  0001 C CNN
F 1 "GND" H 6050 3350 50  0000 C CNN
F 2 "" H 6050 3500 50  0001 C CNN
F 3 "" H 6050 3500 50  0001 C CNN
	1    6050 3500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0132
U 1 1 5DD92D0E
P 5350 3500
F 0 "#PWR0132" H 5350 3250 50  0001 C CNN
F 1 "GND" H 5350 3350 50  0000 C CNN
F 2 "" H 5350 3500 50  0001 C CNN
F 3 "" H 5350 3500 50  0001 C CNN
	1    5350 3500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0133
U 1 1 5DD94AAC
P 7350 3700
F 0 "#PWR0133" H 7350 3450 50  0001 C CNN
F 1 "GND" H 7350 3550 50  0000 C CNN
F 2 "" H 7350 3700 50  0001 C CNN
F 3 "" H 7350 3700 50  0001 C CNN
	1    7350 3700
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR0134
U 1 1 5DD94B47
P 7350 3100
F 0 "#PWR0134" H 7350 2950 50  0001 C CNN
F 1 "VDD" H 7350 3250 50  0000 C CNN
F 2 "" H 7350 3100 50  0001 C CNN
F 3 "" H 7350 3100 50  0001 C CNN
	1    7350 3100
	1    0    0    -1  
$EndComp
Text Label 7750 3400 0    50   ~ 0
Filament_ADC
$Comp
L Device:R R6
U 1 1 5DD956D6
P 7450 4000
F 0 "R6" V 7400 4150 50  0000 C CNN
F 1 "47k" V 7450 4000 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 7380 4000 50  0001 C CNN
F 3 "~" H 7450 4000 50  0001 C CNN
	1    7450 4000
	0    1    1    0   
$EndComp
$Comp
L Device:C C12
U 1 1 5DD957D1
P 7450 4150
F 0 "C12" V 7500 4050 50  0000 C CNN
F 1 "33n" V 7500 4250 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.15x1.40mm_HandSolder" H 7488 4000 50  0001 C CNN
F 3 "~" H 7450 4150 50  0001 C CNN
	1    7450 4150
	0    1    1    0   
$EndComp
Wire Wire Line
	7750 3400 7750 4000
Wire Wire Line
	7750 4000 7600 4000
Wire Wire Line
	7750 4150 7750 4000
Connection ~ 7750 4000
Wire Wire Line
	7100 3500 7100 4000
Connection ~ 7100 4000
Wire Wire Line
	7100 4000 7100 4150
Wire Wire Line
	7600 4150 7750 4150
$Comp
L Device:R R5
U 1 1 5DD97FB5
P 7100 3150
F 0 "R5" H 7170 3196 50  0000 L CNN
F 1 "47k" V 7100 3150 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 7030 3150 50  0001 C CNN
F 3 "~" H 7100 3150 50  0001 C CNN
	1    7100 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 3300 7100 3300
Wire Wire Line
	7150 3500 7100 3500
Connection ~ 6050 3500
$Comp
L power:GND #PWR0135
U 1 1 5DD98654
P 7100 3000
F 0 "#PWR0135" H 7100 2750 50  0001 C CNN
F 1 "GND" H 7100 2850 50  0000 C CNN
F 2 "" H 7100 3000 50  0001 C CNN
F 3 "" H 7100 3000 50  0001 C CNN
	1    7100 3000
	-1   0    0    1   
$EndComp
$Comp
L Device:R R3
U 1 1 5DD991C1
P 6850 3300
F 0 "R3" V 6750 3300 50  0000 C CNN
F 1 "100" V 6850 3300 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 6780 3300 50  0001 C CNN
F 3 "~" H 6850 3300 50  0001 C CNN
	1    6850 3300
	0    1    1    0   
$EndComp
$Comp
L Device:R R4
U 1 1 5DD99264
P 6850 3500
F 0 "R4" V 6950 3500 50  0000 C CNN
F 1 "100" V 6850 3500 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 6780 3500 50  0001 C CNN
F 3 "~" H 6850 3500 50  0001 C CNN
	1    6850 3500
	0    1    1    0   
$EndComp
Connection ~ 7100 3300
Connection ~ 7100 3500
Wire Wire Line
	7100 4150 7300 4150
Wire Wire Line
	7100 4000 7300 4000
Wire Wire Line
	6050 3300 6700 3300
Wire Wire Line
	6050 3500 6700 3500
Wire Wire Line
	7000 3300 7100 3300
Wire Wire Line
	7000 3500 7100 3500
$Comp
L Amplifier_Operational:NCS325 U19
U 1 1 5DD93DD3
P 7450 3400
F 0 "U19" H 7550 3500 50  0000 L CNN
F 1 "TSZ121ILT" H 7350 3600 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 7450 3400 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/tsz124.pdf" H 7600 3550 50  0001 C CNN
	1    7450 3400
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR0137
U 1 1 5DDB5979
P 700 800
F 0 "#PWR0137" H 700 650 50  0001 C CNN
F 1 "VCC" H 717 973 50  0000 C CNN
F 2 "" H 700 800 50  0001 C CNN
F 3 "" H 700 800 50  0001 C CNN
	1    700  800 
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR0138
U 1 1 5DDB59EA
P 900 800
F 0 "#PWR0138" H 900 650 50  0001 C CNN
F 1 "VDD" H 917 973 50  0000 C CNN
F 2 "" H 900 800 50  0001 C CNN
F 3 "" H 900 800 50  0001 C CNN
	1    900  800 
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0139
U 1 1 5DDB5A6F
P 1100 800
F 0 "#PWR0139" H 1100 650 50  0001 C CNN
F 1 "+3V3" H 1115 973 50  0000 C CNN
F 2 "" H 1100 800 50  0001 C CNN
F 3 "" H 1100 800 50  0001 C CNN
	1    1100 800 
	1    0    0    -1  
$EndComp
$Comp
L power:VSS #PWR0140
U 1 1 5DDB5AF4
P 700 900
F 0 "#PWR0140" H 700 750 50  0001 C CNN
F 1 "VSS" H 718 1073 50  0000 C CNN
F 2 "" H 700 900 50  0001 C CNN
F 3 "" H 700 900 50  0001 C CNN
	1    700  900 
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR0141
U 1 1 5DDB5B91
P 900 900
F 0 "#PWR0141" H 900 650 50  0001 C CNN
F 1 "GND" H 905 727 50  0000 C CNN
F 2 "" H 900 900 50  0001 C CNN
F 3 "" H 900 900 50  0001 C CNN
	1    900  900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	700  800  900  800 
Connection ~ 900  800 
Wire Wire Line
	900  800  1100 800 
Wire Wire Line
	700  900  900  900 
Connection ~ 5350 3500
Wire Wire Line
	5350 3500 5450 3500
NoConn ~ 4350 2600
Wire Wire Line
	3400 1500 8900 1500
Wire Wire Line
	3400 1600 8900 1600
Wire Wire Line
	3400 1700 8900 1700
Wire Wire Line
	5950 2700 6200 2700
Wire Wire Line
	6800 2700 6800 2000
Wire Wire Line
	6800 2000 8900 2000
Wire Wire Line
	8900 2100 6900 2100
Wire Wire Line
	6900 2100 6900 2800
Wire Wire Line
	6900 2800 6300 2800
Wire Wire Line
	5950 3100 6200 3100
Wire Wire Line
	6200 3100 6200 2700
Connection ~ 6200 2700
Wire Wire Line
	6200 2700 6800 2700
Wire Wire Line
	5950 3200 6300 3200
Wire Wire Line
	6300 3200 6300 2800
Connection ~ 6300 2800
Wire Wire Line
	6300 2800 5950 2800
Text Label 3400 2200 0    50   ~ 0
Filament_ADC
Wire Wire Line
	4200 1900 4200 2700
Wire Wire Line
	4200 2700 4750 2700
Wire Wire Line
	3400 1900 4200 1900
Wire Wire Line
	4100 2000 4100 3200
Wire Wire Line
	4100 3200 4750 3200
Wire Wire Line
	3400 2000 4100 2000
Wire Wire Line
	3400 2100 4000 2100
Wire Wire Line
	4000 2100 4000 3300
Wire Wire Line
	4000 3300 4750 3300
$Sheet
S 2200 3500 1200 1200
U 5CA4792F
F0 "Power" 50
F1 "power.sch" 50
F2 "Filament_Power" I R 3400 3700 50 
F3 "Grids_Anodes_Power" I R 3400 3800 50 
F4 "5V" I R 3400 3900 50 
F5 "3v3" I R 3400 4000 50 
$EndSheet
$Comp
L power:+5V #PWR0162
U 1 1 5CA49CFD
P 3400 3900
F 0 "#PWR0162" H 3400 3750 50  0001 C CNN
F 1 "+5V" V 3400 4000 50  0000 L CNN
F 2 "" H 3400 3900 50  0001 C CNN
F 3 "" H 3400 3900 50  0001 C CNN
	1    3400 3900
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR0163
U 1 1 5CA49DCB
P 3400 4000
F 0 "#PWR0163" H 3400 3850 50  0001 C CNN
F 1 "+3V3" V 3400 4100 50  0000 L CNN
F 2 "" H 3400 4000 50  0001 C CNN
F 3 "" H 3400 4000 50  0001 C CNN
	1    3400 4000
	0    1    1    0   
$EndComp
Text Label 3400 3700 0    50   ~ 0
Filament_PWR
Text Label 3400 3800 0    50   ~ 0
Grids_Anodes_Power
Text Label 8900 1300 2    50   ~ 0
Grids_Anodes_Power
$Comp
L power:+3V3 #PWR01
U 1 1 5BF855D0
P 4500 2300
F 0 "#PWR01" H 4500 2150 50  0001 C CNN
F 1 "+3V3" H 4500 2450 50  0000 C CNN
F 2 "" H 4500 2300 50  0001 C CNN
F 3 "" H 4500 2300 50  0001 C CNN
	1    4500 2300
	1    0    0    -1  
$EndComp
$EndSCHEMATC
